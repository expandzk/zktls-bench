<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reclaim Bench</title>
</head>

<body>
  <script src="browser-rpc/resources/attestor.min.js"></script>


  <script>
    function startBench() {
      let param = {
        "program": document.getElementById('program').value,
        "party": document.getElementById('party').value,
        "ip": document.getElementById('ip').value,
        "port": document.getElementById('port').value,
        "requestSize": document.getElementById('requestSize').value,
        "responseSize": document.getElementById('responseSize').value,
        "tlsVersion": document.getElementById('tlsVersion').value,
      };
      console.log('startBench beg:');
      const attestorIp = param.ip
      const attestorPort = param.port
      const zkEngine = 'snarkjs'
      const reqLength = param.requestSize
      const repLength = param.responseSize
      const mockUrl = `https://127.0.0.1:17777/me`
      const tlsVersion = param.tlsVersion
      startProver(attestorIp, attestorPort, zkEngine, reqLength, repLength, mockUrl, tlsVersion)
      console.log('startBench end:');
    }
  </script>


  <div>
    <input class="inp" id="program" value="test_protocol" />
    <input class="inp" id="party" value="1" />
    <input class="inp" id="ip" value="127.0.0.1" />
    <input class="inp" id="port" value="12345" />
    <input class="inp" id="requestSize" value="1024" />
    <input class="inp" id="responseSize" value="16" />
    <input class="inp" id="tlsVersion" value="TLS1_3" />
  </div>
  <div>
    <button class="btn" id="start" onclick="startBench()">start</button>
  </div>
</body>

</html>